{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "StatusDefinitions",
  "description": "Array of status/condition definitions. Each status defines the mechanical effects, constraints, and attribute modifications that apply to a character while the status is active.",
  "type": "array",
  "items": {
    "$ref": "#/$defs/StatusDefinition"
  },
  "$defs": {
    "StatusDefinition": {
      "description": "A single status or condition definition.\n\nStatuses are temporary effects applied to characters that modify their capabilities.\nStandard 5e conditions (Poisoned, Stunned) use is_condition=true.\nFeature-granted statuses (Raging, Frenzy) use is_condition=false.\n\nThe inherits field allows composition: stunned inherits incapacitated's effects.",
      "type": "object",
      "required": ["id", "name", "description", "source", "ruleset"],
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique prefixed slug ID (e.g., 'status:raging', 'status:poisoned')"
        },
        "name": {
          "type": "string",
          "description": "Display name of the status"
        },
        "description": {
          "type": "string",
          "description": "Full text description of the status and its effects"
        },
        "is_condition": {
          "type": "boolean",
          "default": false,
          "description": "True for standard 5e conditions (Poisoned, Stunned, etc.), false for feature-granted statuses (Raging)"
        },
        "inherits": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Statuses whose effects this one includes (e.g., stunned inherits incapacitated, unconscious inherits both incapacitated and prone). The API merges all sets of effects."
        },
        "effects": {
          "type": "array",
          "items": {
            "$ref": "common.schema.json#/$defs/StatusEffect"
          },
          "description": "Mechanical effects active while this status is in place (advantage, disadvantage, damage bonuses, etc.)"
        },
        "constraints": {
          "$ref": "common.schema.json#/$defs/StatusConstraint",
          "description": "Behavioral restrictions on movement and actions while this status is active"
        },
        "attributes": {
          "type": "array",
          "items": {
            "$ref": "common.schema.json#/$defs/AttributeModification"
          },
          "description": "Direct attribute modifications (e.g., speed set to 0, awareness disabled)"
        },
        "duration": {
          "$ref": "common.schema.json#/$defs/Duration",
          "description": "Default termination triggers for this status (e.g., grappled ends when grappler is incapacitated or target moves out of reach)"
        },
        "damage_response": {
          "type": "array",
          "items": {
            "$ref": "common.schema.json#/$defs/DamageResponse"
          },
          "description": "Damage resistances, immunities, or vulnerabilities granted by this status"
        },
        "source": {
          "type": "string",
          "description": "Source book code (e.g., 'phb', 'srd')"
        },
        "ruleset": {
          "type": "string",
          "description": "Game system (e.g., 'dnd5e')"
        }
      },
      "additionalProperties": false
    }
  }
}
