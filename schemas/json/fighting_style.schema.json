{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "D&D 5e Fighting Styles",
  "type": "array",
  "items": {
    "description": "A fighting style available to certain classes.",
    "properties": {
      "name": {
        "description": "Fighting style name",
        "title": "Name",
        "type": "string"
      },
      "description": {
        "description": "Full text description of the fighting style",
        "title": "Description",
        "type": "string"
      },
      "source": {
        "description": "Source book or material",
        "title": "Source",
        "type": "string"
      },
      "ruleset": {
        "description": "Ruleset for the fighting style",
        "title": "Ruleset",
        "type": "string"
      },
      "available_to": {
        "description": "Classes that can choose this fighting style",
        "items": {
          "type": "string"
        },
        "title": "Available To",
        "type": "array"
      },
      "mechanics": {
        "description": "Structured game mechanics for this fighting style",
        "items": {
          "discriminator": {
            "mapping": {
              "action": "#/$defs/BaseMechanic",
              "advantage": "#/$defs/BaseMechanic",
              "bonus_action": "#/$defs/BaseMechanic",
              "choice": "#/$defs/ChoiceMechanic",
              "critical_hit": "#/$defs/BaseMechanic",
              "damage_bonus": "#/$defs/BaseMechanic",
              "extra_attack": "#/$defs/BaseMechanic",
              "extra_turn": "#/$defs/BaseMechanic",
              "granted_spells": "#/$defs/GrantedSpellsMechanic",
              "immunity": "#/$defs/BaseMechanic",
              "movement": "#/$defs/BaseMechanic",
              "optional": "#/$defs/BaseMechanic",
              "passive": "#/$defs/BaseMechanic",
              "proficiency": "#/$defs/ProficiencyMechanic",
              "reaction": "#/$defs/BaseMechanic",
              "resistance": "#/$defs/BaseMechanic",
              "resource": "#/$defs/ResourceMechanic",
              "retrain": "#/$defs/RetrainMechanic",
              "ritual": "#/$defs/BaseMechanic",
              "special": "#/$defs/BaseMechanic",
              "spellcasting": "#/$defs/SpellcastingMechanic"
            },
            "propertyName": "type"
          },
          "oneOf": [
            {
              "$ref": "common.schema.json#/$defs/ResourceMechanic"
            },
            {
              "$ref": "common.schema.json#/$defs/ChoiceMechanic"
            },
            {
              "$ref": "common.schema.json#/$defs/RetrainMechanic"
            },
            {
              "$ref": "common.schema.json#/$defs/SpellcastingMechanic"
            },
            {
              "$ref": "common.schema.json#/$defs/GrantedSpellsMechanic"
            },
            {
              "$ref": "common.schema.json#/$defs/ProficiencyMechanic"
            },
            {
              "$ref": "common.schema.json#/$defs/BaseMechanic"
            }
          ]
        },
        "title": "Mechanics",
        "type": "array"
      }
    },
    "required": [
      "name",
      "description",
      "source",
      "ruleset",
      "available_to",
      "mechanics"
    ],
    "title": "FightingStyle",
    "type": "object"
  }
}
